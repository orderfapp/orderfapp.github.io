{"version":3,"sources":["../../src/pages/order-details/order-details.module.ts","../../src/pages/order-details/order-details.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderDetailsPage } from './order-details';\n\n@NgModule({\n  declarations: [\n    OrderDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OrderDetailsPage),\n  ],\n})\nexport class OrderDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-details/order-details.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ViewController } from 'ionic-angular';\nimport { CFood, OrderFoodProvider, COrderDetails, COrder } from '../../providers/order-food/order-food';\nimport { OptionProvider } from '../../providers/option/option';\n\n/**\n * Generated class for the OrderDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-order-details',\n  templateUrl: 'order-details.html',\n})\nexport class OrderDetailsPage {\n  mode = \"\";\n  currentTable = \"\";\n  constructor(private navCtrl: NavController,\n    private navParams: NavParams,\n    private orderProvider: OrderFoodProvider,\n    private viewCtrl: ViewController,\n    private optionProvider: OptionProvider,\n    private alertCtrl: AlertController) {   \n      this.orderProvider.orderTable.listOrder = this.orderProvider.orderTable.listOrder.sort((a, b) => {\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1;\n        return 0;\n      });\n  }\n  ngOnInit() {\n    if (this.navParams.data) {\n      this.mode = this.navParams.data.mode;\n      this.currentTable = this.navParams.data.currentTable;\n    }    \n    this.orderProvider.orderTable.listOrder = this.orderProvider.orderTable.listOrder.sort((a, b) => {\n      if (a.id < b.id) return -1;\n      if (a.id > b.id) return 1;\n      return 0;\n    });\n  }\n  addOption(food: COrderDetails) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Chọn thêm?');\n    for (let index = 0; index < this.optionProvider.listOption.length; index++) {\n      const element = this.optionProvider.listOption[index];\n      alert.addInput({\n        type: 'checkbox',\n        label: element,\n        value: element\n      });\n    }\n    alert.addButton('Hủy');\n    alert.addButton({\n      text: 'Chọn',\n      handler: data => {\n        food.option = data;\n      }\n    });\n    alert.present();\n  }\n  deleteFood(food: COrderDetails) {\n    const prompt = this.alertCtrl.create({\n      title: 'Xóa món',\n      buttons: [\n        {\n          text: 'Đóng',\n          handler: data => {\n          }\n        },\n        {\n          text: 'Xóa',\n          handler: data => {\n            let indexFood = -1;\n            for (let index = 0; index < this.orderProvider.orderTable.listOrder.length; index++) {\n              if (this.orderProvider.orderTable.listOrder[index].id == food.id) {\n                indexFood = index;\n                break;\n              }\n            }\n            if (indexFood != -1) {\n              this.orderProvider.orderTable.listOrder.splice(indexFood, 1);\n              if (this.orderProvider.listSLFoodObject[food.id] == 1) {\n                this.orderProvider.listSLFoodObject[food.id] = null;\n              }\n              else if (indexFood != -1 && this.orderProvider.listSLFoodObject[food.id] > 1) {\n                this.orderProvider.listSLFoodObject[food.id] = this.orderProvider.listSLFoodObject[food.id] - 1;\n              }\n            }\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  addFood(food: COrderDetails) {\n    let orderDetail = new COrderDetails();\n    orderDetail.id = food.id;\n    orderDetail.sl = 1;\n    orderDetail.status = false;\n    orderDetail.food.copy(food.food);\n    this.orderProvider.orderTable.listOrder.push(orderDetail);\n    this.orderProvider.orderTable.listOrder = this.orderProvider.orderTable.listOrder.sort((a, b) => {\n      if (a.id < b.id) return -1;\n      if (a.id > b.id) return 1;\n      return 0;\n    });\n    this.orderProvider.listSLFoodObject[food.id] = this.orderProvider.listSLFoodObject[food.id] + 1;\n  }\n  minusFood(food: COrderDetails) {\n    let indexFood = -1;\n    for (let index = 0; index < this.orderProvider.orderTable.listOrder.length; index++) {\n      if (this.orderProvider.orderTable.listOrder[index].id == food.id) {\n        indexFood = index;\n        break;\n      }\n    }\n    if (indexFood > -1) {\n      this.orderProvider.orderTable.listOrder.splice(indexFood, 1);\n      if (this.orderProvider.listSLFoodObject[food.id] == 1) {\n        this.orderProvider.listSLFoodObject[food.id] = null;\n      }\n      else if (indexFood != -1 && this.orderProvider.listSLFoodObject[food.id] > 1) {\n        this.orderProvider.listSLFoodObject[food.id] = this.orderProvider.listSLFoodObject[food.id] - 1;\n      }\n    }\n  }\n  closeOrder(order: COrder) {\n    const prompt = this.alertCtrl.create({\n      title: 'Xóa order',\n      buttons: [\n        {\n          text: 'Đóng',\n          handler: data => {\n          }\n        },\n        {\n          text: 'Xóa',\n          handler: data => {\n            this.orderProvider.clearOrder(order);\n            this.viewCtrl.dismiss();\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n  confirmOrder(order: COrder) {\n    if(this.currentTable){\n      order.table = this.currentTable.toLowerCase();\n    }\n    else {\n      order.table = this.mode;\n    }\n    order.mode = this.mode;\n    this.orderProvider.addOrder(order);\n    this.currentTable = \"\";\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-details/order-details.ts"],"sourceRoot":""}